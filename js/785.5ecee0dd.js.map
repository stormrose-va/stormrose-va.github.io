{"version":3,"file":"js/785.5ecee0dd.js","mappings":"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","sources":["webpack://frontend/./src/components/ui/BaseModal.vue","webpack://frontend/./src/components/ui/BaseModal.vue?6485","webpack://frontend/./src/pages/contracts/UserContracts.vue","webpack://frontend/./src/components/contracts/ContractList.vue","webpack://frontend/./src/components/contracts/ContractList.vue?0008","webpack://frontend/./src/pages/contracts/UserContracts.vue?5bee"],"sourcesContent":["<template>\n  <teleport to=\"body\">\n    <div class=\"modal\" :class=\"{'is-active': show}\">\n      <div class=\"modal-background\" @click=\"signalClose\"></div>\n      <div class=\"modal-content\">\n        <article class=\"message\" :class=\"color\">\n          <div class=\"message-header\">\n            <slot name=\"header\">\n              <p>{{ title }}</p>\n            </slot>\n            <button class=\"delete\" aria-label=\"delete\" @click=\"signalClose\"></button>\n          </div>\n          <div class=\"message-body\">\n            <slot></slot>\n          </div>\n        </article>\n      </div>\n      <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"signalClose\"></button>\n    </div>\n  </teleport>\n</template>\n\n<script>\nexport default {\n  name: \"BaseModal\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true\n    },\n    title: {\n      type: String,\n      required: false\n    },\n    color: {\n      type: String,\n      required: false,\n      default: null\n    }\n  },\n  emits: ['close'],\n  methods: {\n    signalClose() {\n      this.$emit('close');\n    }\n  }\n}\n</script>\n","import { render } from \"./BaseModal.vue?vue&type=template&id=3ef4bf75\"\nimport script from \"./BaseModal.vue?vue&type=script&lang=js\"\nexport * from \"./BaseModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/travis/build/stormrose-va/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section class=\"section\">\n    <div class=\"container\">\n      <base-modal :show=\"!!error\" color=\"is-danger\" title=\"Data Loading Error\" @close=\"handleError\">\n        {{ error }}\n      </base-modal>\n      <div v-if=\"isLoading\">\n        <base-spinner></base-spinner>\n      </div>\n      <contract-list class=\"mb-6\" v-if=\"hasPendingContracts\" :contracts=\"pendingContracts\" title=\"Contracts with Pending Payments\" :update=\"true\" :extend=\"false\"></contract-list>\n      <contract-list class=\"mb-6\" v-if=\"hasActiveContracts\" :contracts=\"activeContracts\" title=\"Active Contracts\" :update=\"false\" :extend=\"true\"></contract-list>\n      <contract-list v-if=\"hasClosedContracts\" :contracts=\"closedContracts\" title=\"Closed Contracts\" :update=\"false\" :extend=\"false\"></contract-list>\n      <div class=\"card\" v-if=\"!hasContracts\">\n        <div class=\"card-header\">\n          <p class=\"card-header-title\">\n            No Contracts Available\n          </p>\n        </div>\n        <div class=\"card-content content\">\n          <p>Sorry, we could not find any contracts associated with your account.</p>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport BaseSpinner from \"@/components/ui/BaseSpinner\";\nimport BaseModal from \"@/components/ui/BaseModal\";\nimport ContractList from \"@/components/contracts/ContractList\";\n\nexport default {\n  name: \"UserContracts\",\n  components: {\n    BaseSpinner,\n    BaseModal,\n    ContractList\n  },\n  computed: {\n    hasContracts() {\n      return this.$store.getters['contracts/hasContracts'];\n    },\n    contracts() {\n      return this.$store.getters['contracts/contracts'];\n    },\n    hasPendingContracts() {\n      return this.$store.getters['contracts/hasPendingContracts'];\n    },\n    hasActiveContracts() {\n      return this.$store.getters['contracts/hasActiveContracts'];\n    },\n    hasClosedContracts() {\n      return this.$store.getters['contracts/hasClosedContracts'];\n    },\n    pendingContracts() {\n      return this.$store.getters['contracts/pendingContracts'];\n    },\n    activeContracts() {\n      return this.$store.getters['contracts/activeContracts'];\n    },\n    closedContracts() {\n      return this.$store.getters['contracts/closedContracts'];\n    }\n  },\n  data() {\n    return {\n      isLoading: false,\n      error: null\n    };\n  },\n  methods: {\n    async loadContracts(force = false) {\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('contracts/loadContracts', {forceRefresh: force});\n      } catch (error) {\n        this.error = error.message || 'Could not load contract data';\n      }\n      this.isLoading = false;\n    },\n    handleError() {\n      this.error = null;\n    }\n  },\n  created() {\n    this.loadContracts(false);\n  }\n}\n</script>\n","<template>\n  <section>\n    <base-modal :show=\"!!error\" color=\"is-danger\" title=\"Error\" @close=\"handleError\">{{ error }}</base-modal>\n    <base-modal :show=\"success\" color=\"is-success\" title=\"Payments Refreshed\" @close=\"handleSuccess\">\n      Payment data has been refreshed. If the system recognized any pending payments, the corresponding aircraft\n      will have automatically been leased out to the indicated target account.\n    </base-modal>\n    <base-modal :show=\"details.show\" color=\"is-info\" title=\"Maintenance Information\" @close=\"handleDetails\">\n      <p class=\"mb-2\">for contract #{{ details.id }}, aircraft {{ details.reg }} {{ details.model }}</p>\n      <p class=\"mb-2\" v-if=\"(details.inspectionRate > 0.0) && !details.inspectionRefund\">\n        You are eligible for a refund of {{ details.inspectionRate * 100 }}% of the cost of your first 100 hours\n        inspection.\n      </p>\n      <p class=\"mb-2\" v-else-if=\"(details.inspectionRate > 0.0) && details.inspectionRefund\">\n        {{ details.inspectionRate * 100 }}% of the cost of your first 100 hours inspection have already been refunded\n        to you.\n      </p>\n      <p class=\"mb-2\" v-else>\n        At the moment of lease, the aircraft had less than 10 hours of hobbs time after its last 100 hours inspection.\n        You are therefore not eligible for any refund on 100 hours inspection cost.\n      </p>\n      <p v-if=\"!details.ac_intact && !details.repairRefund\">\n        You are eligible to a refund of your first random damage repair, as the aircraft was in need of repair upon\n        start of the leasing contract.\n      </p>\n      <p v-else-if=\"!details.ac_intact && details.repairRefund\">\n        Your first random damage repair has already been refunded to you, as the aircraft was in need of repair upon\n        start of the leasing contract.\n      </p>\n      <p v-else>\n        At the moment of lease, the aircraft was not in need of repair. You are therefore not eligible for any refund\n        on random repair cost.\n      </p>\n    </base-modal>\n    <div v-if=\"isLoading\">\n      <base-spinner></base-spinner>\n    </div>\n\n    <div class=\"card\" :class=\"classes\">\n      <div class=\"card-header\">\n        <p class=\"card-header-title\">\n          {{ title }}\n        </p>\n      </div>\n      <div class=\"card-content content\">\n        <table class=\"table is-striped is-hoverable is-fullwidth\">\n          <thead>\n          <tr>\n            <th>Id</th>\n            <th>Aircraft</th>\n            <th>Model</th>\n            <th>Leasing Rate</th>\n            <th>Leased To</th>\n            <th>Start</th>\n            <th>End</th>\n            <th>Paid Until</th>\n          </tr>\n          <tr v-for=\"contract in contracts\" :key=\"contract.id\" @click=\"showDetails(contract.id)\">\n            <td>{{ contract.id }}</td>\n            <td>{{ contract.ac_reg }}</td>\n            <td>{{ contract.ac_type }}</td>\n            <td>{{ 'v$' + contract.rate.toLocaleString('en-US', {maximumFractionDigits: 0}) }}</td>\n            <td>{{ contract.target_name }}</td>\n            <td>{{ contract.start_date }}</td>\n            <td>{{ contract.end_date }}</td>\n            <td>{{ contract.paid_until }}</td>\n          </tr>\n          </thead>\n        </table>\n        <div v-if=\"update || extend\">\n          <p v-if=\"update\">\n            To activate your pending leasing contracts, please issue the corresponding payment from your personal\n            account or the group account the aircraft shall be leased to (cf. &ldquo;Lease To&rdquo; in the table above)\n            to the group account <span class=\"has-text-weight-semibold has-text-primary\">Stormrose</span>. Please note:\n          </p>\n          <p v-if=\"extend\">\n            To extend an active leasing contract, simply send another monthly payment from your personal account or the\n            group account the aircraft is leased to (cf. &ldquo;Lease To&rdquo; in the table above) to the group account\n            <span class=\"has-text-weight-semibold has-text-primary\">Stormrose</span>. Please note:\n          </p>\n          <ul>\n            <li>All payments have to be made to the <span class=\"has-text-weight-semibold has-text-primary\">Stormrose</span> group account</li>\n            <li>Do not bundle or split payments &ndash; our automated system will look for one payment per leasing contract and month.</li>\n            <li>Do not forget to put the aircraft registration into the comment field when sending a payment.</li>\n          </ul>\n          <button class=\"button is-primary is-outlined\" @click=\"refreshPayments\">\n            <span class=\"icon is-small\"><svg-icon type=\"mdi\" :path=\"refreshIcon\">&nbsp;</svg-icon></span>\n            <span>Refresh Payment Status</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport BaseSpinner from \"@/components/ui/BaseSpinner\";\nimport BaseModal from \"@/components/ui/BaseModal\";\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport {mdiRefresh} from '@mdi/js';\n\nexport default {\n  name: \"ContractList\",\n  components: {\n    BaseSpinner,\n    BaseModal,\n    SvgIcon\n  },\n  computed: {\n    refreshIcon() {\n      return mdiRefresh;\n    }\n  },\n  data() {\n    return {\n      isLoading: false,\n      error: null,\n      success: false,\n      details: {\n        show: false,\n        id: null,\n        reg: null,\n        model: null,\n        inspectionRate: 0.0,\n        inspectionRefund: false,\n        ac_intact: true,\n        repairRefund: false\n      }\n    }\n  },\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    update: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    extend: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    contracts: {\n      type: Array,\n      required: true\n    },\n    classes: {\n      type: String,\n      required: false,\n      default: ''\n    }\n  },\n  methods: {\n    handleError() {\n      this.error = null;\n    },\n    handleSuccess() {\n      this.success = false;\n    },\n    handleDetails() {\n      this.details.show = false;\n    },\n    showDetails(id) {\n      const contract = this.contracts.find(c => c.id === id);\n      if (!contract) {\n        return;\n      }\n      this.details.id = contract.id;\n      this.details.reg = contract.ac_reg;\n      this.details.model = contract.ac_type;\n      this.details.inspectionRate = contract.inspection_prorate;\n      this.details.inspectionRefund = contract.inspection_refund;\n      this.details.ac_intact = contract.ac_intact;\n      this.details.repairRefund = contract.repair_refund;\n      this.details.show = true;\n    },\n    async refreshPayments() {\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('contracts/refreshPayments');\n        this.success = true;\n      } catch (error) {\n        this.error = error.message || 'Could not refresh payment data';\n      }\n      this.isLoading = false;\n    },\n  }\n}\n</script>\n","import { render } from \"./ContractList.vue?vue&type=template&id=37b91912\"\nimport script from \"./ContractList.vue?vue&type=script&lang=js\"\nexport * from \"./ContractList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/travis/build/stormrose-va/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserContracts.vue?vue&type=template&id=725b9bfc\"\nimport script from \"./UserContracts.vue?vue&type=script&lang=js\"\nexport * from \"./UserContracts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/travis/build/stormrose-va/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createBlock","_Teleport","to","_createElementVNode","$props","onClick","$options","_renderSlot","_ctx","_toDisplayString","name","props","show","type","Boolean","required","title","String","color","default","emits","methods","signalClose","this","$emit","__exports__","render","_hoisted_5","_hoisted_6","_createElementBlock","_createVNode","_component_base_modal","$data","onClose","_hoisted_3","_component_base_spinner","_component_contract_list","contracts","update","extend","_hoisted_7","_hoisted_19","_hoisted_24","id","reg","model","inspectionRate","inspectionRefund","ac_intact","repairRefund","_hoisted_8","_hoisted_9","_hoisted_14","_Fragment","_renderList","contract","key","ac_reg","ac_type","rate","toLocaleString","maximumFractionDigits","target_name","start_date","end_date","paid_until","_hoisted_16","_hoisted_17","_hoisted_21","_hoisted_22","_hoisted_26","_hoisted_27","_component_svg_icon","path","_hoisted_30","components","BaseSpinner","BaseModal","SvgIcon","computed","refreshIcon","mdiRefresh","data","isLoading","error","success","details","Array","classes","handleError","handleSuccess","handleDetails","showDetails","find","c","inspection_prorate","inspection_refund","repair_refund","async","$store","dispatch","message","ContractList","hasContracts","getters","hasPendingContracts","hasActiveContracts","hasClosedContracts","pendingContracts","activeContracts","closedContracts","force","forceRefresh","created","loadContracts"],"sourceRoot":""}