{"version":3,"file":"js/978.8840cb8a.js","mappings":"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","sources":["webpack://frontend/./src/pages/auth/UserLogin.vue","webpack://frontend/./src/pages/auth/UserLogin.vue?5243"],"sourcesContent":["<template>\n  <section class=\"section\">\n    <div class=\"modal\" :class=\"{'is-active': !!error}\">\n      <div class=\"modal-background\" @click=\"handleError\"></div>\n      <div class=\"modal-content\">\n        <article class=\"message is-danger\">\n          <div class=\"message-header\">\n            <p>Login Error</p>\n            <button class=\"delete\" aria-label=\"delete\" @click=\"handleError\"></button>\n          </div>\n          <div class=\"message-body\">\n            {{ error }}\n          </div>\n        </article>\n      </div>\n      <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"handleError\"></button>\n    </div>\n    <div class=\"container\">\n      <div v-if=\"isLoading\">\n        <base-spinner></base-spinner>\n      </div>\n      <div class=\"columns is-centered\">\n        <div class=\"column is-5-tablet is-5-desktop is-4-widescreen\">\n          <div class=\"box\">\n            <form @submit.prevent=\"doLogin\">\n              <div class=\"field\">\n                <label class=\"label\" for=\"username\">Username</label>\n                <div class=\"control has-icons-left\">\n                  <input class=\"input\" id=\"username\" type=\"text\" placeholder=\"Username\" ref=\"userInput\" v-model.trim=\"username\">\n                  <span class=\"icon is-small is-left\">\n                <svg-icon type=\"mdi\" :path=\"userIcon\">&nbsp;</svg-icon>\n              </span>\n                </div>\n              </div>\n              <div class=\"field\">\n                <label class=\"label\" for=\"password\">Password</label>\n                <div class=\"control has-icons-left\">\n                  <input class=\"input\" id=\"password\" type=\"password\" v-model.trim=\"password\">\n                  <span class=\"icon is-small is-left\">\n                    <svg-icon type=\"mdi\" :path=\"passwordIcon\">&nbsp;</svg-icon>\n                  </span>\n                </div>\n              </div>\n              <article class=\"message is-danger\" v-if=\"!formIsValid\">\n                <div class=\"message-body\">\n                  Please make sure to enter a username and password. Neither of them can be empty.\n                </div>\n              </article>\n              <div class=\"field is-grouped\">\n                <div class=\"control\">\n                  <button class=\"button is-link\">Login</button>\n                </div>\n                <div class=\"control\">\n                  <router-link :to=\"{ name: 'signup' }\" class=\"button is-link is-light\">Sign Up</router-link>\n                </div>\n                <div class=\"control\">\n                  <router-link :to=\"{ name: 'password' }\" class=\"button\">I forgot my password.</router-link>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport {mdiAccount} from '@mdi/js';\nimport {mdiLock} from '@mdi/js';\nimport BaseSpinner from \"@/components/ui/BaseSpinner\";\n\nexport default {\n  name: \"UserLogin.vue\",\n  components: {\n    SvgIcon,\n    BaseSpinner\n  },\n  computed: {\n    userIcon() {\n      return mdiAccount;\n    },\n    passwordIcon() {\n      return mdiLock;\n    }\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n      formIsValid: true,\n      isLoading: false,\n      error: null\n    }\n  },\n  methods: {\n    async doLogin() {\n      if (this.username === '' || this.password === '') {\n        this.formIsValid = false;\n        return;\n      }\n      this.isLoading = true;\n      const actionPayload = {\n        username: this.username,\n        password: this.password\n      };\n      try {\n        await this.$store.dispatch('auth/login', actionPayload);\n        const redirectUrl = '/' + (this.$route.query.goto || 'aircraft');\n        await this.$router.replace(redirectUrl);\n      } catch (error) {\n        this.error = error.message || 'Failed to authenticate, try later.';\n      }\n      this.isLoading = false;\n    },\n    handleError() {\n      this.error = null;\n    }\n  },\n}\n</script>\n","import { render } from \"./UserLogin.vue?vue&type=template&id=70860e29\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/travis/build/stormrose-va/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_hoisted_23","_createElementBlock","$data","onClick","$options","_hoisted_5","_toDisplayString","_hoisted_8","_createVNode","_component_base_spinner","onSubmit","_hoisted_13","id","type","placeholder","ref","$event","_component_svg_icon","path","_hoisted_18","_hoisted_24","_hoisted_26","_component_router_link","to","name","components","SvgIcon","BaseSpinner","computed","userIcon","mdiAccount","passwordIcon","mdiLock","data","username","password","formIsValid","isLoading","error","methods","async","this","actionPayload","$store","dispatch","redirectUrl","$route","query","goto","$router","replace","message","handleError","__exports__","render"],"sourceRoot":""}