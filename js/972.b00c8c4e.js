"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[972],{1773:function(e,s,t){t.d(s,{Z:function(){return f}});var a=t(6252),i=t(3577);const l={class:"modal-content"},r={class:"message-header"},o={class:"message-body"};function n(e,s,t,n,c,d){return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a._)("div",{class:(0,i.C_)(["modal",{"is-active":t.show}])},[(0,a._)("div",{class:"modal-background",onClick:s[0]||(s[0]=(...e)=>d.signalClose&&d.signalClose(...e))}),(0,a._)("div",l,[(0,a._)("article",{class:(0,i.C_)(["message",t.color])},[(0,a._)("div",r,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("p",null,(0,i.zw)(t.title),1)])),(0,a._)("button",{class:"delete","aria-label":"delete",onClick:s[1]||(s[1]=(...e)=>d.signalClose&&d.signalClose(...e))})]),(0,a._)("div",o,[(0,a.WI)(e.$slots,"default")])],2)]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:s[2]||(s[2]=(...e)=>d.signalClose&&d.signalClose(...e))})],2)])}var c={name:"BaseModal",props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},color:{type:String,required:!1,default:null}},emits:["close"],methods:{signalClose(){this.$emit("close")}}},d=t(3744);const u=(0,d.Z)(c,[["render",n]]);var f=u},2079:function(e,s,t){t.r(s),t.d(s,{default:function(){return et}});var a=t(6252),i=t(3577),l=t(9963);const r=e=>((0,a.dD)("data-v-678ddc0f"),e=e(),(0,a.Cn)(),e),o={key:0},n={key:1},c={class:"card mt-4"},d={class:"card-content has-background-info-light"},u={class:"columns"},f={class:"column"},h={class:"field is-horizontal is-expanded"},g=r((()=>(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"acclass"},"Category")],-1))),_={class:"field-body"},p={class:"field is-expanded"},m={class:"control"},v={class:"select is-fullwidth"},y=["value"],b={class:"column"},w={class:"field is-horizontal is-expanded"},k=r((()=>(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"region"},"Region")],-1))),S={class:"field-body"},C={class:"field is-expanded"},R={class:"control"},D={class:"select is-fullwidth"},z=["value"],I={class:"column"},x={class:"field is-horizontal"},L=r((()=>(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"subregion"},"Subregion")],-1))),T={class:"field-body"},A={class:"field is-expanded"},U={class:"control"},$={class:"select is-fullwidth"},q=["value"],W={class:"columns is-multiline mb-4"},B={key:2};function P(e,s,t,r,P,M){const Z=(0,a.up)("base-dialog"),F=(0,a.up)("aircraft-lease-form"),E=(0,a.up)("base-spinner"),j=(0,a.up)("aircraft-item");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(Z,{show:!!P.error,title:"An error occurred!",onClose:M.handleError},{default:(0,a.w5)((()=>[(0,a._)("p",null,(0,i.zw)(P.error),1)])),_:1},8,["show","onClose"]),P.show?((0,a.wg)(),(0,a.j4)(F,{key:0,show:P.show,id:P.id,onClose:M.handleLeaseClose},null,8,["show","id","onClose"])):(0,a.kq)("",!0),(0,a._)("section",null,[P.isLoading?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(E)])):M.hasAircraft?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("div",f,[(0,a._)("div",h,[g,(0,a._)("div",_,[(0,a._)("div",p,[(0,a._)("div",m,[(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{id:"acclass","onUpdate:modelValue":s[0]||(s[0]=e=>P.filterClass=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.aircraftClasses,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,i.zw)(e),9,y)))),128))],512),[[l.bM,P.filterClass]])])])])])])]),(0,a._)("div",b,[(0,a._)("div",w,[k,(0,a._)("div",S,[(0,a._)("div",C,[(0,a._)("div",R,[(0,a._)("div",D,[(0,a.wy)((0,a._)("select",{id:"region","onUpdate:modelValue":s[1]||(s[1]=e=>P.filterRegion=e),onChange:s[2]||(s[2]=(...e)=>M.updateRegion&&M.updateRegion(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.regions,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,i.zw)(e),9,z)))),128))],544),[[l.bM,P.filterRegion]])])])])])])]),(0,a._)("div",I,[(0,a._)("div",x,[L,(0,a._)("div",T,[(0,a._)("div",A,[(0,a._)("div",U,[(0,a._)("div",$,[(0,a.wy)((0,a._)("select",{id:"subregion","onUpdate:modelValue":s[3]||(s[3]=e=>P.filterSubRegion=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.subRegions,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,i.zw)(e),9,q)))),128))],512),[[l.bM,P.filterSubRegion]])])])])])])])])])]),(0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.filteredAircraft,(e=>((0,a.wg)(),(0,a.j4)(j,{key:e.fse_id,model:e.ac_type,img:e.image,id:e.fse_id,rate:e.rate,reg:e.reg,ac_class:e.ac_class,home:e.home,has_ap:e.has_ap,has_gps:e.has_gps,has_ifr:e.has_ifr,location:e.location,airport:e.location_details.name,city:e.location_details.city,state:e.location_details.state,country:e.location_details.country,region:e.location_details.region,subregion:e.location_details.subregion,engines:e.engines,range:e.range,speed:e.speed,pax:e.passengers,payload:e.payload,onLease:M.doLease},null,8,["model","img","id","rate","reg","ac_class","home","has_ap","has_gps","has_ifr","location","airport","city","state","country","region","subregion","engines","range","speed","pax","payload","onLease"])))),128))])])):((0,a.wg)(),(0,a.iD)("h3",B,"No aircraft data found."))])])}const M={key:0,open:""},Z={key:0},F=(0,a.Uk)("Close");function E(e,s,t,r,o,n){const c=(0,a.up)("base-button");return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[t.show?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:s[0]||(s[0]=(...e)=>n.tryClose&&n.tryClose(...e)),class:"backdrop"})):(0,a.kq)("",!0),(0,a.Wm)(l.uT,{name:"dialog"},{default:(0,a.w5)((()=>[t.show?((0,a.wg)(),(0,a.iD)("dialog",M,[(0,a._)("header",null,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("h2",null,(0,i.zw)(t.title),1)]),!0)]),(0,a._)("section",null,[(0,a.WI)(e.$slots,"default",{},void 0,!0)]),t.fixed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("menu",Z,[(0,a.WI)(e.$slots,"actions",{},(()=>[(0,a.Wm)(c,{onClick:n.tryClose},{default:(0,a.w5)((()=>[F])),_:1},8,["onClick"])]),!0)]))])):(0,a.kq)("",!0)])),_:3})])}function j(e,s,t,l,r,o){const n=(0,a.up)("router-link");return t.link?((0,a.wg)(),(0,a.j4)(n,{key:1,to:t.to,class:(0,i.C_)(t.mode)},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,i.C_)(t.mode)},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2))}var V={name:"BaseButton",props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:""}}},K=t(3744);const H=(0,K.Z)(V,[["render",j],["__scopeId","data-v-07593a1e"]]);var O=H,Y={name:"BaseDialog",components:{BaseButton:O},props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};const N=(0,K.Z)(Y,[["render",E],["__scopeId","data-v-7c9e7514"]]);var G=N,Q=t(5422);const X=e=>((0,a.dD)("data-v-5422ae45"),e=e(),(0,a.Cn)(),e),J={class:"column is-12-mobile is-6-tablet is-3-desktop"},ee={class:"card bm--card-equal-height"},se={class:"card-image"},te={class:"image is-16by9"},ae=["src","alt"],ie={class:"card-content"},le={class:"media-content"},re={class:"subtitle is-6"},oe={class:"title is-5"},ne={class:"subtitle is-6 mb-4 font-secondary"},ce={class:"content is-size-7"},de={class:"table is-fullwidth is-hoverable is-narrow is-bordered"},ue=X((()=>(0,a._)("th",null,"Registration:",-1))),fe=X((()=>(0,a._)("th",null,"Avionics:",-1))),he=X((()=>(0,a._)("th",null,"Engines:",-1))),ge=X((()=>(0,a._)("th",null,"Speed / Range:",-1))),_e=X((()=>(0,a._)("th",null,"Max Passengers",-1))),pe=X((()=>(0,a._)("th",null,"Max Payload",-1))),me=X((()=>(0,a._)("th",null,"Airport:",-1))),ve=X((()=>(0,a._)("th",null,"Location:",-1))),ye=X((()=>(0,a._)("th",null,"Country:",-1))),be=X((()=>(0,a._)("th",null,"Region:",-1))),we=X((()=>(0,a._)("th",null,"Sub-Region:",-1))),ke={class:"icon is-small"},Se=(0,a.Uk)(" "),Ce=X((()=>(0,a._)("span",null,"Lease",-1)));function Re(e,s,t,l,r,o){const n=(0,a.up)("svg-icon");return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",ee,[(0,a._)("div",se,[(0,a._)("figure",te,[(0,a._)("img",{src:t.img,alt:t.reg},null,8,ae)])]),(0,a._)("div",ie,[(0,a._)("div",le,[(0,a._)("p",re,(0,i.zw)(t.ac_class),1),(0,a._)("p",oe,(0,i.zw)(t.model),1),(0,a._)("p",ne,(0,i.zw)(o.leasingRate)+" per month",1)]),(0,a._)("div",ce,[(0,a._)("table",de,[(0,a._)("tbody",null,[(0,a._)("tr",null,[ue,(0,a._)("td",null,(0,i.zw)(t.reg),1)]),(0,a._)("tr",null,[fe,(0,a._)("td",null,(0,i.zw)(o.avionics),1)]),(0,a._)("tr",null,[he,(0,a._)("td",null,(0,i.zw)(t.engines),1)]),(0,a._)("tr",null,[ge,(0,a._)("td",null,(0,i.zw)(t.speed)+" kt TAS / "+(0,i.zw)(Math.round(t.range))+" NM",1)]),(0,a._)("tr",null,[_e,(0,a._)("td",null,(0,i.zw)(t.pax)+" pax",1)]),(0,a._)("tr",null,[pe,(0,a._)("td",null,(0,i.zw)(t.payload)+" kg",1)]),(0,a._)("tr",null,[me,(0,a._)("td",null,(0,i.zw)(t.location)+" – "+(0,i.zw)(t.airport),1)]),(0,a._)("tr",null,[ve,(0,a._)("td",null,(0,i.zw)(o.cityString),1)]),(0,a._)("tr",null,[ye,(0,a._)("td",null,(0,i.zw)(t.country),1)]),(0,a._)("tr",null,[be,(0,a._)("td",null,(0,i.zw)(t.region),1)]),(0,a._)("tr",null,[we,(0,a._)("td",null,(0,i.zw)(t.subregion),1)])])]),o.eligible?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[0]||(s[0]=s=>e.$emit("lease",t.id)),class:"button is-primary is-pulled-right mt-4 is-outlined"},[(0,a._)("span",ke,[(0,a.Wm)(n,{type:"mdi",path:o.cartIcon},{default:(0,a.w5)((()=>[Se])),_:1},8,["path"])]),Ce])):(0,a.kq)("",!0)])])])])}var De=t(2273),ze=t(5317),Ie={name:"AircraftItem",emits:["lease"],props:["model","img","id","rate","reg","ac_class","home","has_ifr","has_ap","has_gps","location","airport","city","state","country","region","subregion","engines","range","speed","pax","payload"],components:{SvgIcon:De.Z},computed:{leasingRate(){return"v$"+this.rate.toLocaleString("en-US",{maximumFractionDigits:0})},avionics(){let e=[];return this.has_ifr&&e.push("IFR"),this.has_ap&&e.push("AP"),this.has_gps&&e.push("GPS"),0===e.length&&e.push("VFR"),e.join("/")},eligible(){return this.$store.getters["auth/isAuthenticated"]&&this.$store.getters["auth/hasProfile"]&&this.$store.getters["auth/isVerified"]},cartIcon(){return ze.zRm},cityString(){return""===this.state?this.city:this.city+", "+this.state}}};const xe=(0,K.Z)(Ie,[["render",Re],["__scopeId","data-v-5422ae45"]]);var Le=xe;const Te={key:0},Ae=(0,a.Uk)(" A leasing contract for "),Ue={class:"has-text-weight-semibold"},$e=(0,a.Uk)(" has been successfully created. The aircraft is reserved and will be leased out in FSEconomy as soon as payment of the leasing fee has been registered. "),qe={class:"mt-4"},We={class:"field is-horizontal"},Be=(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"aircraft"},"Aircraft")],-1),Pe={class:"field-body"},Me={class:"field"},Ze={class:"control is-expanded has-icons-left"},Fe=["value"],Ee={class:"icon is-small is-left"},je=(0,a.Uk)(" "),Ve={class:"field is-horizontal"},Ke=(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"price"},"Rate")],-1),He={class:"field-body"},Oe={class:"field"},Ye={class:"control is-expanded has-icons-left"},Ne=["value"],Ge={class:"icon is-small is-left"},Qe=(0,a.Uk)(" "),Xe={class:"field is-horizontal"},Je=(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"start"},"Start / End")],-1),es={class:"field-body"},ss={class:"field"},ts={class:"control is-expanded has-icons-left"},as=["value"],is={class:"icon is-small is-left"},ls=(0,a.Uk)(" "),rs={class:"field"},os={class:"control is-expanded has-icons-left"},ns=(0,a._)("label",{for:"end"},null,-1),cs=["value"],ds={class:"icon is-small is-left"},us=(0,a.Uk)(" "),fs=(0,a._)("div",{class:"field is-horizontal"},[(0,a._)("div",{class:"field-label"}),(0,a._)("div",{class:"field-body"},[(0,a._)("div",{class:"field"},[(0,a._)("p",{class:"help has-text-grey-dark"},[(0,a._)("span",{class:"has-text-weight-semibold"},"Please note:"),(0,a.Uk)(" the indicated dates were calculated based on your computer's system time and are for information only. The actual contract dates will be determined by our server once you chose to submit your order. ")])])])],-1),hs={class:"field is-horizontal"},gs=(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"location"},"Location")],-1),_s={class:"field-body"},ps={class:"field"},ms={class:"control is-expanded has-icons-left"},vs=["value"],ys={class:"icon is-small is-left"},bs=(0,a.Uk)(" "),ws={class:"field is-horizontal"},ks=(0,a._)("div",{class:"field-label is-normal"},[(0,a._)("label",{class:"label",for:"target"},"Lease To")],-1),Ss={class:"field-body"},Cs={class:"field"},Rs={class:"control is-expanded has-icons-left"},Ds=["value"],zs={class:"icon is-small is-left"},Is=(0,a.Uk)(" "),xs={key:0,class:"help is-danger"},Ls={class:"field is-horizontal"},Ts=(0,a._)("div",{class:"field-label"},null,-1),As={class:"field-body"},Us={class:"field"},$s={class:"control"},qs={class:"checkbox has-text-grey-dark"},Ws=(0,a.Uk)(" I confirm I have read and agree to the "),Bs=(0,a.Uk)("Terms of Service"),Ps=(0,a.Uk)(". "),Ms={class:"field is-horizontal"},Zs=(0,a._)("div",{class:"field-label"},null,-1),Fs={class:"field-body"},Es={class:"field"},js={class:"control"},Vs={key:0,class:"button is-primary"},Ks={key:1,class:"button is-primary",disabled:""};function Hs(e,s,t,r,o,n){const c=(0,a.up)("base-spinner"),d=(0,a.up)("base-modal"),u=(0,a.up)("svg-icon"),f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("section",null,[o.isLoading?((0,a.wg)(),(0,a.iD)("div",Te,[(0,a.Wm)(c)])):(0,a.kq)("",!0),(0,a.Wm)(d,{show:!!o.error,color:"is-danger",title:"Leasing Error",onClose:n.handleError},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,a.Wm)(d,{show:o.success,color:"is-success",title:"Leasing Contract Established",onClose:n.handleSuccess},{default:(0,a.w5)((()=>[(0,a._)("p",null,[Ae,(0,a._)("span",Ue,(0,i.zw)(n.aircraftString),1),$e]),(0,a._)("p",qe,[(0,a._)("button",{class:"button is-success",onClick:s[0]||(s[0]=(...e)=>n.handleSuccess&&n.handleSuccess(...e))},"OK")])])),_:1},8,["show","onClose"]),o.isLoading||o.error||o.success?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:1,show:t.show,color:"is-primary",title:"Lease Aircraft",onClose:s[4]||(s[4]=s=>e.$emit("close"))},{default:(0,a.w5)((()=>[(0,a._)("form",{onSubmit:s[3]||(s[3]=(0,l.iM)(((...e)=>n.processLeasingForm&&n.processLeasingForm(...e)),["prevent"]))},[(0,a._)("div",We,[Be,(0,a._)("div",Pe,[(0,a._)("div",Me,[(0,a._)("div",Ze,[(0,a._)("input",{class:"input",id:"aircraft",type:"text",readonly:"",value:n.aircraftString},null,8,Fe),(0,a._)("span",Ee,[(0,a.Wm)(u,{type:"mdi",path:n.aircraftIcon},{default:(0,a.w5)((()=>[je])),_:1},8,["path"])])])])])]),(0,a._)("div",Ve,[Ke,(0,a._)("div",He,[(0,a._)("div",Oe,[(0,a._)("div",Ye,[(0,a._)("input",{class:"input",id:"price",type:"text",readonly:"",value:n.rateString},null,8,Ne),(0,a._)("span",Ge,[(0,a.Wm)(u,{type:"mdi",path:n.rateIcon},{default:(0,a.w5)((()=>[Qe])),_:1},8,["path"])])])])])]),(0,a._)("div",Xe,[Je,(0,a._)("div",es,[(0,a._)("div",ss,[(0,a._)("div",ts,[(0,a._)("input",{class:"input",id:"start",type:"text",readonly:"",value:n.startDate},null,8,as),(0,a._)("span",is,[(0,a.Wm)(u,{type:"mdi",path:n.startIcon},{default:(0,a.w5)((()=>[ls])),_:1},8,["path"])])])]),(0,a._)("div",rs,[(0,a._)("div",os,[ns,(0,a._)("input",{class:"input",id:"end",type:"text",readonly:"",value:n.endDate},null,8,cs),(0,a._)("span",ds,[(0,a.Wm)(u,{type:"mdi",path:n.endIcon},{default:(0,a.w5)((()=>[us])),_:1},8,["path"])])])])])]),fs,(0,a._)("div",hs,[gs,(0,a._)("div",_s,[(0,a._)("div",ps,[(0,a._)("div",ms,[(0,a._)("input",{class:"input",id:"location",type:"text",readonly:"",value:n.locationString},null,8,vs),(0,a._)("span",ys,[(0,a.Wm)(u,{type:"mdi",path:n.locationIcon},{default:(0,a.w5)((()=>[bs])),_:1},8,["path"])])])])])]),(0,a._)("div",ws,[ks,(0,a._)("div",Ss,[(0,a._)("div",Cs,[(0,a._)("div",Rs,[(0,a._)("span",{class:(0,i.C_)(["select is-fullwidth",{"is-danger":!o.leasingTarget,"is-success":!!o.leasingTarget}])},[(0,a.wy)((0,a._)("select",{id:"target","onUpdate:modelValue":s[1]||(s[1]=e=>o.leasingTarget=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.leasingTargets,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,i.zw)(e),9,Ds)))),128))],512),[[l.bM,o.leasingTarget]])],2),(0,a._)("span",zs,[(0,a.Wm)(u,{type:"mdi",path:n.targetIcon},{default:(0,a.w5)((()=>[Is])),_:1},8,["path"])])]),o.leasingTarget?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",xs,"Please select the account to lease the aircraft to"))])])]),(0,a._)("div",Ls,[Ts,(0,a._)("div",As,[(0,a._)("div",Us,[(0,a._)("div",$s,[(0,a._)("label",qs,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>o.confirmToS=e)},null,512),[[l.e8,o.confirmToS]]),Ws,(0,a.Wm)(f,{to:"/terms",target:"_blank"},{default:(0,a.w5)((()=>[Bs])),_:1}),Ps])])])])]),(0,a._)("div",Ms,[Zs,(0,a._)("div",Fs,[(0,a._)("div",Es,[(0,a._)("div",js,[o.leasingTarget&&o.confirmToS?((0,a.wg)(),(0,a.iD)("button",Vs,"Order Lease")):(0,a.kq)("",!0),o.leasingTarget&&o.confirmToS?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",Ks,"Order Lease"))])])])])],32)])),_:1},8,["show"]))])}var Os=t(1773),Ys={name:"AircraftLeaseForm",components:{SvgIcon:De.Z,BaseModal:Os.Z,BaseSpinner:Q.Z},computed:{aircraftIcon(){return ze.nlT},locationIcon(){return ze.jlh},rateIcon(){return ze.c_b},startIcon(){return ze.yZQ},endIcon(){return ze.mjf},targetIcon(){return ze.VXI},aircraft(){return this.$store.getters["aircraft/aircraft"].find((e=>e.fse_id===this.id))},aircraftString(){return this.aircraft.reg+" - "+this.aircraft.ac_type+" (FSE ID "+this.aircraft.fse_id+")"},locationString(){let e=this.aircraft.location+" "+this.aircraft.location_details.name+", "+this.aircraft.location_details.city;return""!==this.aircraft.location_details.state&&(e=e+", "+this.aircraft.location_details.state),e=e+", "+this.aircraft.location_details.country,e},leasingTargets(){const e=this.$store.getters["auth/username"],s=this.$store.getters["auth/verifiedGroups"],t=s.map((e=>e.group));return t.sort(),[e,...t]},rateString(){return"v$"+this.aircraft.rate.toLocaleString("en-US",{maximumFractionDigits:0})+" per month"},startDate(){let e=new Date;return e.toISOString().split("T")[0]+" (UTC)"},endDate(){let e=new Date;return e.setUTCMonth(e.getUTCMonth()+1),e.setUTCDate(e.getUTCDate()-1),e.toISOString().split("T")[0]+" (UTC)"}},data(){return{isLoading:!1,success:!1,error:null,leasingTarget:null,confirmToS:!1}},emits:["close"],props:{show:{type:Boolean,required:!0},id:{type:Number,required:!0}},methods:{async processLeasingForm(){this.isLoading=!0;const e={aircraft:this.aircraft.fse_id,target:this.leasingTarget};console.log(e);try{await this.$store.dispatch("aircraft/submitLeaseRequest",e),await this.$store.dispatch("aircraft/loadAircraft",{forceRefresh:!0}),await this.$store.dispatch("contracts/loadContracts",{forceRefresh:!0}),this.success=!0}catch(s){this.error=s.message||"Failed to reserve aircraft for leasing, try later."}this.isLoading=!1},handleError(){this.error=null},handleSuccess(){this.success=!1,this.$emit("close")}}};const Ns=(0,K.Z)(Ys,[["render",Hs]]);var Gs=Ns;function Qs(e,s){return e.rate<s.rate?-1:e.rate>s.rate?1:0}var Xs={name:"AircraftList",components:{BaseDialog:G,BaseSpinner:Q.Z,AircraftItem:Le,AircraftLeaseForm:Gs},data(){return{isLoading:!1,error:null,id:null,show:!1,filterClass:"any",filterRegion:"any",filterSubRegion:"any",filterPrevRegion:"any",filterPrevSubRegion:"any"}},computed:{aircraft(){return this.$store.getters["aircraft/aircraft"]},hasAircraft(){return!this.isLoading&&this.$store.getters["aircraft/hasAircraft"]},sortedAircraft(){let e=[...this.aircraft];return e.sort(Qs),e},filteredAircraft(){let e=this.sortedAircraft;return"any"!==this.filterClass&&(e=e.filter((e=>e.ac_class===this.filterClass))),"any"!==this.filterRegion&&(e=e.filter((e=>e.location_details.region===this.filterRegion))),"any"!==this.filterSubRegion&&(e=e.filter((e=>e.location_details.subregion===this.filterSubRegion))),e},regions(){const e=[...new Set(this.sortedAircraft.map((e=>e.location_details.region)))];return["any",...e]},subRegions(){let e=this.sortedAircraft;"any"!==this.filterRegion&&(e=e.filter((e=>e.location_details.region===this.filterRegion)));const s=[...new Set(e.map((e=>e.location_details.subregion)))];return["any",...s]},aircraftClasses(){const e=[...new Set(this.sortedAircraft.map((e=>e.ac_class)))];return["any",...e]}},methods:{async loadAircraft(e=!1){this.isLoading=!0;try{await this.$store.dispatch("aircraft/loadAircraft",{forceRefresh:e})}catch(s){this.error=s.message||"Could not load aircraft data"}this.isLoading=!1},handleError(){this.error=null},doLease(e){this.id=e,this.show=!0},handleLeaseClose(){this.id=null,this.show=!1},updateRegion(){this.filterRegion!==this.filterPrevRegion&&(this.filterSubRegion="any",this.filterPrevSubRegion="any",this.filterPrevRegion=this.filterRegion)},updateSubRegion(){this.filterSubRegion!==this.filterPrevSubRegion&&(this.filterRegion="any",this.filterPrevRegion="any",this.filterPrevSubRegion=this.filterSubRegion)}},created(){this.loadAircraft(!1)}};const Js=(0,K.Z)(Xs,[["render",P],["__scopeId","data-v-678ddc0f"]]);var et=Js}}]);
//# sourceMappingURL=972.b00c8c4e.js.map